(this["webpackJsonpdowntime-report"]=this["webpackJsonpdowntime-report"]||[]).push([[0],{41:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(31),r=a.n(n),l=a(12),o=(a(41),a(11)),i=(a(42),a(2)),d=Object(s.createContext)({isLoggedIn:!1,updateUser:function(){},logout:function(){}}),j=a(16),h=a(17),b=a(9),u=a(36),m=a(35),p=a(8),x=a.n(p),O=new(function(){function e(){Object(j.a)(this,e)}return Object(h.a)(e,[{key:"createUser",value:function(e){return x.a.post("https://molcom-server.herokuapp.com/api/auth/signup",e)}},{key:"loginUser",value:function(e){return x.a.post("https://molcom-server.herokuapp.com/api/auth/signin",e)}}]),e}()),g=a(0),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).addUser=function(e){e.preventDefault(),s.setState({loading:!0});var t={phone:s.state.phone,email:s.state.email,password:s.state.password};s.state.phone?s.state.email&&s.state.email?s.state.password?O.createUser(t).then((function(e){s.setState({loading:!1}),s.props.history.push("/dashboard")})):(alert("enter a valid password !"),s.setState({loading:!1})):(alert("please enter a valid email "),s.setState({loading:!1})):(alert("please enter phone"),s.setState({loading:!1}))},s.changePhoneHandler=function(e){s.setState({phone:e.target.value})},s.changeEmailHandler=function(e){s.setState({email:e.target.value})},s.changePasswordlHandler=function(e){s.setState({password:e.target.value})},s.state={phone:"",email:"",password:"",loading:!1},s.changePhoneHandler=s.changePhoneHandler.bind(Object(b.a)(s)),s.changeEmailHandler=s.changeEmailHandler.bind(Object(b.a)(s)),s.changePasswordlHandler=s.changePasswordlHandler.bind(Object(b.a)(s)),s.addUser=s.addUser.bind(Object(b.a)(s)),s}return Object(h.a)(a,[{key:"cancel",value:function(){this.props.history.push("/login")}},{key:"render",value:function(){return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)("div",{className:"container",style:{marginTop:"15px",padding:"50px"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"card col-md-6 offset-md-3 offset-md-3",children:[Object(g.jsx)("h3",{className:"text-center",style:{margin:"15px"},children:" Register"}),Object(g.jsx)("div",{className:"card-body",children:Object(g.jsx)("form",{children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{style:{marginTop:"10px"},children:" Email "}),Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("input",{type:"email",name:"email",className:"form-control",value:this.state.email,onChange:this.changeEmailHandler})}),Object(g.jsx)("label",{style:{marginTop:"10px"},children:" Phone"}),Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("input",{placeholder:" ",type:"number",name:"phone",className:"form-control",value:this.state.phone,onChange:this.changePhoneHandler})}),Object(g.jsx)("label",{style:{marginTop:"10px"},children:" Password "}),Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.changePasswordlHandler})})]}),Object(g.jsx)("div",{className:"form-row text-center",style:{marginTop:"12px"},children:Object(g.jsxs)("div",{className:"col-12",children:[Object(g.jsxs)("button",{className:"btn btn-success",onClick:this.addUser,disabled:this.state.loading,children:[this.state.loading&&Object(g.jsx)("div",{class:"spinner-border text-light",role:"status"}),"Register"]}),Object(g.jsx)("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{margin:"22px"},children:"Cancel"})]})})]})})})]})})})})}}]),a}(s.Component),f=a(20),w=a.n(f),N=a(32),y=function(e){var t,a=Object(s.useState)(!1),c=Object(o.a)(a,2),n=c[0],r=c[1],d=Object(s.useState)(""),j=Object(o.a)(d,2),h=j[0],b=j[1],u=Object(s.useState)(""),m=Object(o.a)(u,2),p=m[0],O=m[1],v=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.status;console.log("Userprofile "+v);var f=Object(i.g)(),y=function(){var t=Object(N.a)(w.a.mark((function t(a){var s,c,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r(!0),s={usernameOrEmail:h,password:p},t.prev=3,t.next=6,x.a.post("https://molcom-server.herokuapp.com/api/auth/signin",s);case 6:c=t.sent,n=c.data,console.log("data: "+n),"Login Successful"===n.message&&(e.updateUser(n),localStorage.setItem("user",JSON.stringify(n)),r(!1),f.push({pathname:"/dashboard",state:{id:n.id}})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),"Request failed with status code 404"===t.t0.message?alert("User does not exist"):"Request failed with status code 500"===t.t0.message?alert("Password Mismatch"):console.log(t.t0.message),r(!1);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"container",style:{marginTop:"15px",padding:"50px"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"card col-md-6 offset-md-3 offset-md-3",children:[Object(g.jsx)("h3",{className:"text-center",style:{margin:"15px",fontWeight:"bold"},children:" Enter Login Details "}),Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("form",{onSubmit:y,children:[Object(g.jsx)("label",{style:{marginTop:"10px"},htmlFor:"usernameOrEmail",children:"Enter  Email: "}),Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:h,placeholder:" ",onChange:function(e){var t=e.target;return b(t.value)}})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{style:{marginTop:"10px"},htmlFor:"password",children:"Enter Password: "}),Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("input",{className:"form-control",type:"password",value:p,placeholder:" ",onChange:function(e){var t=e.target;return O(t.value)}})})]}),Object(g.jsx)("div",{className:"form-row text-center",style:{marginTop:"12px"},children:Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsxs)("button",{className:"button-40",role:"button",type:"submit",disabled:n,children:[n&&Object(g.jsx)("div",{className:"spinner-border text-light",role:"status"}),"Login"]})})}),Object(g.jsx)("div",{className:"center",style:{marginTop:"10px"},children:Object(g.jsx)(l.b,{to:"/create",children:"Click here to create account"})})]})})]})})})},S=(a(68),function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"container1",children:Object(g.jsxs)("div",{class:"row",children:[Object(g.jsx)("div",{class:"col-sm-6",children:Object(g.jsxs)("div",{class:"card card-block",children:[Object(g.jsx)("h3",{class:"card-title",children:"Special title treatment"}),Object(g.jsx)("p",{class:"card-text",children:"With supporting text below as a natural lead-in to additional content."}),Object(g.jsx)("a",{href:"#",class:"btn btn-primary",children:"Go somewhere"})]})}),Object(g.jsx)("div",{class:"col-sm-6",children:Object(g.jsxs)("div",{class:"card card-block",children:[Object(g.jsx)("h3",{class:"card-title",children:"Special title treatment"}),Object(g.jsx)("p",{class:"card-text",children:"With supporting text below as a natural lead-in to additional content."}),Object(g.jsx)("a",{href:"#",class:"btn btn-primary",children:"Go somewhere"})]})})]})})})});var k=function(){var e,t=Object(s.useState)(),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(!1),j=Object(o.a)(r,2),h=j[0],b=j[1];e=h?Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{exact:!0,path:"/",component:function(){return Object(g.jsx)(y,{user:c,updateUser:u})}}),Object(g.jsx)(i.b,{path:"/dashboard",component:S}),Object(g.jsx)(i.a,{to:"/"})]}):Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{exact:!0,path:"/",component:function(){return Object(g.jsx)(y,{user:c,updateUser:u})}}),Object(g.jsx)(i.b,{path:"/create",component:v}),Object(g.jsx)(i.a,{to:"/"})]});var u=Object(s.useCallback)((function(e){n(e),b(!!e)}),[]),m=Object(s.useCallback)((function(){localStorage.removeItem("user"),b(!1)}),[]);return Object(g.jsx)(d.Provider,{value:{isLoggedIn:h,logout:m,updateUser:u},children:Object(g.jsx)("div",{children:Object(g.jsx)(l.a,{children:Object(g.jsx)("div",{style:{marginLeft:"12px"},children:e})})})})};x.a.interceptors.request.use((function(e){var t;localStorage.getItem("user")&&(e.headers.Authorization="Bearer ".concat(null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.accessToken),console.log("it works"));return e})),r.a.render(Object(g.jsx)(l.a,{children:Object(g.jsx)(k,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.a34c10a4.chunk.js.map